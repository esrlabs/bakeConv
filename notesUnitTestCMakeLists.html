<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Notes for CMakeLists for UnitTest</title>
<style type="text/css">
#rundrum {
  border-width:1px;
  border-style:dashed;
  border-color:blue;
  padding:0.2cm;
  text-align:justify; }
</style>
</head>

<body>
<h1>Notes for CMakeLists for UnitTest</h1>
If a separate CMakeLists.txt for UnitTest should be generate
<ul>
	<li>bake dependency "gmock" needs to be filtered</li>
	<pre id="rundrum"><code>EXCLUDE_BAKE_DEPENDENCIES = [gmock]</code></pre>
	<p>This has the consequence, that the gmock pathes will be removed. "make" will do not have problems if gmock is filtered, otherwise linker errors will be occur.</p>
	
	<li>Additionally</li>
	<pre id="rundrum"><code>EXCLUDE_BAKE_INCLUDES = [gmock]</code></pre>
	<p>is needed.</p>
	
	<h3>Example:</h3>	
	<table border="1">
  	<tr>
    <th bgcolor="#CCCCCC">template_UnitTest.txt</th>
    <th bgcolor="#CCCCCC">CMakeLists.txt</th>
  	</tr>
  	<tr>
    <td><pre><code> ...
    
 target_link_libraries(gtest_${targetName}
 gtest_${targetName}_sut
 gtest_esr_all_<b>$OPTION(BAKE_DEPENDENCIES)</b>_sut
 ${testFrameworkTarget}
 )
	</code></pre></td>
    <td><pre><code> ...
    
 target_link_libraries(gtest_${targetName}
 gtest_${targetName}_sut
 gtest_esr_all_<b>logger</b>_sut
 ${testFrameworkTarget}
 )
	</code></pre></td>
  	</tr>
	</table>
</ul>
	
</body>