<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>The configuration file Converter.config</title>
<style type="text/css">
#rundrum {
  border-width:1px;
  border-style:dashed;
  border-color:blue;
  padding:0.2cm;
  text-align:justify; }
</style>
</head>

<body>
<h1>The configuration file Converter.config</h1>
<ul>
<li>bakeConv needs a config file, which define a couple of projects to convert</li>
<li>every project has its own scope, which is defined by the braces { ... } (the most inner one)</li>
<li>there are mandatory and optional variables you have/may to define</li>
</ul>
<h2>Example</h2>

<table border="1">
  <tr>
    <th bgcolor="#CCCCCC">Converter.config</th>
  </tr>
  <tr>
    <td><pre><code>
    {
 	Workspace = [./]
	{
	  MainProj = tools/convert/bswMain
	  BuildConfig = main
	  TemplateFile = tools/convert/templates/template_libraryWithUnitTest.txt
	  {
	      Proj2Convert = lifecycle
	      OutputFile = lifecycle/CMakeLists.txt		
	  }
	  {
	      Proj2Convert = common
	      OutputFile = common/CMakeLists.txt
	  }
	}
	{
	  BuildConfig = UnitTest
	  TemplateFile = tools/convert/templates/template_UnitTest.txt
	  GMOCK_TEMPLATE = tools/convert/templates/template_GMock.txt
	  EXCLUDE_BAKE_DEPENDENCIES = [gmock, logger]
	  EXCLUDE_BAKE_INCLUDES = [gmock]
	  {
	      MainProj = lifecycle
	      Proj2Convert = lifecycle,UnitTest
	      OutputFile = lifecycle/test/CMakeLists.txt
	  }
	  {
	      MainProj = common
	      Proj2Convert = common,UnitTest
	      OutputFile = common/test/CMakeLists.txt
	  }
	}
   }
 </code></pre></td>
  </tr>
</table>

<p>The variables <b>Workspace (-w in bake), MainProj (-m in bake), BuildConfig (-b in bake), Proj2Convert (-p in bake)</b> are required by bake and have
to be defined. Usage like in bake (see <a href="http://esrlabs.github.io/bake/">bake documentation</a>).</p>
<p><b>OutputFile and TemplateFile</b> are also required variables. With</p>
<pre id="rundrum"><code>OutputFile = lifecycle/CMakeLists.txt
TemplateFile = tools/convert/templates/template_libraryWithUnitTest.txt</code></pre>
bakeConv will be informed where the converted output file should be stored and which template file should be used.
<p><b>Attention: </b>All the paths are <b><font color="red">relative to the path given in Workspace</font></b>! You can also use absolute paths.</p>
<h2>Self defined variables</h2>
<ul>
	<li>bake will provide <b>BAKE_SOURCES, BAKE_INCLUDES and BAKE_DEPENDENCIES</b></li>
	<!--<li>BAKE_DEPENDENCIES and BAKE_DEPENDENCIES_FILTERED are summarized in one variable &#x2192; DEPENDENCIES_FILTER (will be needed for UnitTest CMakeLists &#x2192; <a href="notesUnitTestCMakeLists.html">Notes for UnitTest CMakeLists</a>)</li>-->
	<li>all other variables have to be defined by the user in the config file</li>
</ul>

<h3>Examples</h3>
<table border="1">
  <tr>
    <th bgcolor="#CCCCCC">Self defined variables</th>
  </tr>
  <tr>
    <td><pre><code> SpecialDependency = logger
 GMOCK_TEMPLATE = tools/convert/templates/template_gMock.txt
 BAKE_SOURCES = []
 TEXT =	
 </code></pre></td>
  </tr>
</table>

<p>Several lines from another template can be insert in the main template file by: </p>
<pre id="rundrum"><code>GMOCK_TEMPLATE = tools/convert/templates/template_gMock.txt</code></pre>

<p>If one project doesn't have any source files, then an empty array</p>
<pre id="rundrum"><code>BAKE_SOURCES = []</code></pre>
<p>should be defined. Otherwise $$(BAKE_SOURCES) will appear in the output file.</p>
<p>In general, with</p>
<pre id="rundrum"><code>TEXT =</code></pre>
$$(TEXT) will be replaced by a space.

<p><b>Attention: </b>The self defined variables in the config file should be of course the same as in the template file!</p>

<h2>Filtering</h2>
If you want to filter some files e.g. gmock include files, use the following:
<pre id="rundrum"><code>EXCLUDE_BAKE_INCLUDES = [gmock]</code></pre>
Beside this you have the possibility to filter source files and dependencies as well via <b>EXCLUDE_BAKE_SOURCES = [...], EXCLUDE_BAKE_DEPENDENCIES = [...]</b>. Filtering "gmock" dependency will be needed for UnitTest CMakeLists (&#x2192; <a href="notesUnitTestCMakeLists.html">Notes for UnitTest CMakeLists</a>)
 
<h2>General information</h2>
With # you have the possibility to comment out a line in the config file.</p>
 
</body>